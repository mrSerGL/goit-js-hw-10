{"mappings":"AAmCuBA,SAASC,cAAc,YAC/BC,UAjCA,41BAoCP,MAAFC,EAAO,CACXC,OAAQJ,SAASC,cAAc,qBAC/BI,SAAUL,SAASC,cAAc,uBACjCK,MAAON,SAASC,cAAc,mBAIzBE,EAAFC,OAAOG,iBAAiB,UAkB7B,SAAqBC,GACnBA,EAAMC,iBAEN,MAAMC,EAAe,IAAIC,gBAAgB,CACvCC,EAAGC,EACHC,OAAQ,cACRC,SAAU,KAGZC,MAAM,qCAAqCN,IAAgBO,GACxDC,MAAMC,GAAaA,EAASC,SAC5BF,MAAMb,KAUX,SAAwBA,GACpBgB,QAAQC,IAAIjB,GACWA,EAASkB,KAAI,EAACC,OAAEA,EAAMC,MAAEA,EAAKC,YAAEA,EAAWC,WAAEA,EAAUC,IAAEA,EAAGC,QAAEA,KAC3E,6EAE0BJ,wDACQC,mDACNF,2GAGjBG,sJAKRE,gDAEOD,kOAOhBE,KAAK,IAEV3B,EAAKE,SAASH,UAAY6B,c,CAjCtBC,CAAe3B,EAAS,IAEzB4B,OAAMC,IACLb,QAAQa,MAAMA,EAAM,G,IAlC1B/B,EAAKG,MAAMC,iBAAiB,SAY5B,WACEM,EAAgBV,EAAKG,MAAM6B,K,IAVZ,MAAXlB,EAAmB,CACvBmB,QAAS,CACPC,cAAe,qCAKK,IAApBxB","sources":["src/js/newsbox.js"],"sourcesContent":["import '../css/newsbox.scss';\n\n// розмітка формі\nconst markup = `\n<section class=\"news-app\">\n  <section class=\"header\">\n    <div class=\"header__wrapper\">\n      <a class=\"header__logo\">\n        <i class=\"fa-regular fa-newspaper\"></i>\n      </a>\n      <div class=\"header__brand\">News Box</div>\n    </div>\n  </section>\n\n  <form class=\"search\">\n    <div class=\"search__wrapper\">\n      <input class=\"search__field\" type=\"text\" placeholder=\"What are you looking for?\" name=\"search\">\n      <button class=\"search__btn\" type=\"\" submit>\n        <span class=\"search__icon\">\n          <i class=\"fa-solid fa-magnifying-glass\"></i>\n          <i class=\"fa-solid fa-circle-notch\"></i>\n        </span>\n      </button>\n    </div>\n  </form>\n\n  <div class=\"articles\">\n    <article></article>\n  </div>\n\n  <section class=\"load-more\">\n    <button class=\"load-more-btn\" hidden>More</button>\n  </section>\n</section>\n`;\nconst sectionNewsBox = document.querySelector('.newsbox');\nsectionNewsBox.innerHTML = markup;\n\n// елементи DOM\nconst refs = {\n  search: document.querySelector('.news-app .search'),\n  articles: document.querySelector('.news-app .articles'),\n  input: document.querySelector('.search__field'),\n};\n\n// слухачі\nrefs.search.addEventListener('submit', getArticles);\nrefs.input.addEventListener('input', updateSearchParams);\n\n// опциї запросу даніх\nconst apiRequestOption = {\n  headers: {\n    Authorization: '66d6286bb5fe47b4aee06cc789798941',\n  },\n};\n\n// значення та парамети пошуку\nlet whatToLookFor;\n\nfunction updateSearchParams() {\n  whatToLookFor = refs.input.value;\n}\n\n// відправка і повернення даних\nfunction getArticles(event) {\n  event.preventDefault();\n\n  const searchParams = new URLSearchParams({\n    q: whatToLookFor,\n    sortBy: 'publishedAt',\n    pageSize: 10,\n  });\n\n  fetch(`https://newsapi.org/v2/everything?${searchParams}`, apiRequestOption)\n    .then((response) => response.json())\n    .then((articles) => {\n        \n        \n      renderArticles(articles);\n    })\n    .catch(error => {\n      console.error(error);\n    });\n}\n\nfunction renderArticles(articles) {\n    console.log(articles);\n    const articlesMarkup = articles.map(({ author, title, publishDate, urlToImage, url, content }) => {\n      return `\n        <article class=\"article\">\n          <h2 class=\"article__title\">${title}</h2>\n          <div class=\"article__publish-date\">${publishDate}</div>\n          <div class=\"article__author\">${author}</div>\n          {{#if urlToImage}}\n          <figure class=\"article__image\">\n            <img src=\"${urlToImage}\" alt=\"article-image\">\n          </figure>\n          {{/if}}\n          <div class=\"article__content\">\n            {{#if text}}\n              ${content}\n            {{/if}}\n            <a href=\"${url}\" target=\"_blank\">read more</a>\n          </div>\n          {{#if timeForReading}}\n            <div class=\"article__time-for-reading\">{{timeForReading}} for reading</div>\n          {{/if}} \n        </article>\n      `;\n    }).join('');\n\n  refs.articles.innerHTML = markupArticles;\n}\n"],"names":["document","querySelector","innerHTML","$a2bf804cb5f7b945$var$refs","search","articles","input","addEventListener","event","preventDefault","searchParams","URLSearchParams","q","$a2bf804cb5f7b945$var$whatToLookFor","sortBy","pageSize","fetch","$a2bf804cb5f7b945$var$apiRequestOption","then","response","json","console","log","map","author","title","publishDate","urlToImage","url","content","join","markupArticles","$a2bf804cb5f7b945$var$renderArticles","catch","error","value","headers","Authorization"],"version":3,"file":"newsbox.63edb590.js.map"}